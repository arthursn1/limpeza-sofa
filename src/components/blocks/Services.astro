---
import type { z } from "astro/zod";
import { ServicesSchema } from "../../types/schema";

type Props = z.infer<typeof ServicesSchema>['props'];

const { eyebrow, title, description, items } = Astro.props;

// MAPA DE ÍCONES FINAL (Com Sofá, Cadeira e Carro corrigidos)
const ICONS: Record<string, string> = {
  // Sofá (Aquele que arrumamos no passo anterior)
  sofa: "M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3 M2 16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z M4 18v2 M20 18v2 M12 4v9",
  
  // Cadeira e Poltrona (Baseado no seu SVG: Armchair)
  // Combinei os 4 caminhos do seu SVG em uma única string
  chair: "M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3 M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z M5 18v2 M19 18v2",
  
  // Cama (BedDouble - Mantido)
  bed: "M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8 M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4 M12 4v6 M2 18h20",
  
  // Tapete (Square - Mantido)
  rug: "M3 3h18v18H3z",
  
  // Bancos de Carro (Baseado no seu SVG: Car)
  // Converti os círculos (rodas) em caminhos 'M...a...' para funcionar no path
  car: "M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2 M9 17h6 M5 17a2 2 0 1 0 4 0a2 2 0 1 0 -4 0 M15 17a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",
  
  // Impermeabilização (Sparkles - Mantido)
  shield: "M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.582a.5.5 0 0 1 0 .962L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z M20 3v4 M22 5h-4 M4 17v2 M5 18H3"
};
---

<section id="servicos" class="py-24 bg-background">
  <div class="container mx-auto px-4">

    <div class="text-center max-w-2xl mx-auto mb-16">
      {eyebrow && (
        <span class="inline-block text-primary font-semibold text-sm uppercase tracking-wider mb-4">
          {eyebrow}
        </span>
      )}
      <h2 class="text-3xl md:text-4xl font-bold text-foreground mb-4 font-sans">
        {title}
      </h2>
      <p class="text-muted-foreground text-lg">
        {description}
      </p>
    </div>

    <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
      {items.map((item) => (
        <div class="group bg-card rounded-2xl p-6 border border-border hover:border-primary/30 transition-all duration-300 hover:shadow-card">

          <div class="w-14 h-14 rounded-xl bg-accent flex items-center justify-center mb-5 group-hover:bg-primary/10 transition-colors">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="w-7 h-7 text-primary"
            >
              <path d={ICONS[item.icon] || ICONS.shield} />
            </svg>
          </div>

          <h3 class="text-xl font-bold text-foreground mb-2 font-sans">
            {item.title}
          </h3>

          <p class="text-muted-foreground leading-relaxed">
            {item.description}
          </p>
        </div>
      ))}
    </div>

  </div>
</section>